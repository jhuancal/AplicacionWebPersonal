{% extends "layouts/game_base.html" %}

{% block title %}Arenas | Math Arena{% endblock %}

{% block content %}
<h1 class="card-title" style="font-size: 2rem; border: none; text-align: center; margin-bottom: 2rem;">
    CHOOSE_YOUR_BATTLEFIELD</h1>

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem;">
    <!-- PRACTICE MODE -->
    <div class="game-card" style="border-color: var(--term-blue); box-shadow: 0 0 15px rgba(0, 191, 255, 0.1);">
        <div style="text-align: center; margin-bottom: 2rem;">
            <i class="fa-solid fa-graduation-cap"
                style="font-size: 4rem; color: var(--term-blue); text-shadow: 0 0 10px var(--term-blue);"></i>
            <h2 style="color: var(--term-blue); margin-top: 1rem;">TRAINING_V1</h2>
            <p style="color: #888;">Infinite exercises. No pressure. Select a completed course.</p>
        </div>

        <form action="{{ url_for('admin.arena_play') }}" method="GET">
            <input type="hidden" name="mode" value="TRAINING">
            <label style="display: block; margin-bottom: 0.5rem; color: var(--term-blue);">SELECT_MODULE:</label>
            <select name="courseId" required
                style="width: 100%; padding: 10px; background: #000; color: #fff; border: 1px solid var(--term-blue); margin-bottom: 2rem; font-family: inherit;">
                {% if courses %}
                {% for c in courses %}
                <option value="{{ c.Id }}">{{ c.Nombre }}</option>
                {% endfor %}
                {% else %}
                <option disabled selected>NO COMPLETED COURSES</option>
                {% endif %}
            </select>

            <button type="submit" class="btn-game"
                style="width: 100%; border-color: var(--term-blue); color: var(--term-blue);" {% if not courses
                %}disabled style="opacity:0.5; cursor:not-allowed;" {% endif %}>
                [ START_TRAINING ]
            </button>
        </form>
    </div>

    <!-- COMPETITIVE MODE -->
    <div class="game-card" style="border-color: #ff3333; box-shadow: 0 0 15px rgba(255, 51, 51, 0.1);">
        <div style="text-align: center; margin-bottom: 2rem;">
            <i class="fa-solid fa-trophy" style="font-size: 4rem; color: #ff3333; text-shadow: 0 0 10px #ff3333;"></i>
            <h2 style="color: #ff3333; margin-top: 1rem;">RANKED_MATCH</h2>
            <p style="color: #888;">Compete against others. Gain LP. Rise in Rank.</p>
        </div>

        <form action="{{ url_for('admin.arena_play') }}" method="GET">
            <input type="hidden" name="mode" value="RANKED">
            <!-- For ranked, maybe we autopick or just pass dummy course for now since we haven't built pool logic -->
            <label style="display: block; margin-bottom: 0.5rem; color: #ff3333;">MATCHMAKING POOL:</label>
            <div
                style="background: #000; border: 1px solid #ff3333; padding: 10px; height: 80px; overflow-y: scroll; margin-bottom: 2rem;">
                {% if courses %}
                {% for c in courses %}
                <div style="margin-bottom: 5px; color: #aaa;">
                    <input type="checkbox" checked disabled> {{ c.Nombre }}
                </div>
                {% endfor %}
                {% else %}
                <div style="color: #555;">No eligible courses unlocked.</div>
                {% endif %}
            </div>

            <label style="display: block; margin-bottom: 0.5rem; color: #ff3333;">GAME_MODE:</label>
            <select name="submode"
                style="width: 100%; padding: 10px; background: #000; color: #fff; border: 1px solid #ff3333; margin-bottom: 2rem; font-family: inherit;">
                <option value="RANKED_STANDARD">STANDARD (1v1)</option>
                <option value="BATTLE_ROYALE">BATTLE_ROYALE (Last Man Standing)</option>
                <option value="TIME_ATTACK_5">TIME_ATTACK (5 Minutes)</option>
                <option value="TIME_ATTACK_10">TIME_ATTACK (10 Minutes)</option>
                <option value="TIME_ATTACK_15">TIME_ATTACK (15 Minutes)</option>
            </select>

            <div class="d-flex justify-content-between">
                <button type="submit" class="btn-game" style="width: 48%;">
                    [ START_SIMULATION ]
                </button>
                <a href="{{ url_for('admin.arena_pvp') }}" class="btn-game"
                    style="width: 48%; border-color: var(--term-gold); color: var(--term-gold); text-align: center; padding-top: 10px;">
                    [ ENTER_PVP_LOBBY ]
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}